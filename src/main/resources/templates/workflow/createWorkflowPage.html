<!DOCTYPE html>

<html lang="en" xmlns: th="http://www.thymeleaf.org" xmlns:th="http://www.w3.org/1999/xhtml">

<head>

    <meta charset="UTF-8">

    <title>Create Workflow </title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script>
        $(document).ready(function(){
            $('#workflow').focus();
            // $('#submitbtn').on('click', function () {
            //    return empty();

            //});
        });

        function empty() {
            var result = validate("workflow");
            var result2 =  validate("job");
            if(result && result2)
            {
                return true;
            }
            else
            {
                return false;
            }

        }

        function validate(elementId) {

            var x = document.getElementById(elementId).value;
            var xid = "#" + elementId;
            if (x == "" || isNaN(x)) {
                alert("Enter A Number for " + elementId);
                $(xid).focus();
                $(xid).val("");
                return false;
            }

            return true;
        }


    </script>
<style>
   td{text-align: left;
     font-size: large;
   }

</style>

</head>
    <body>
        <div style="text-align:center">
            <h1 >Create Workflow:</h1>
            <br>
            <br>

            <!-- Need to create a controller -->
            <!--<a th:if="${#request.userPrincipal.name} == 'Billing1'"  th:href="@{/billing/displaybilling}">go to inputask page</a>-->
            <!--<form th:if="${#request.userPrincipal.name} != 'Billing1'"  method='GET'  th:action="@{/inputTasks/add}">-->
            <form  method='GET' action="/inputTasks/add" th:action="@{/inputTasks/add}">
            <!--<form  method='GET' action="/workflows/add" th:action="@{/workflows/add}">-->
                    <table  style="margin: 0px auto;">
                        <tr>
                            <td>Job ID:</td>
                            <td> <span th:text="${job.jobId}"></span></td>
                        </tr>
                        <tr>
                            <td>workflow:</td>
                            <td><span name='workflow' th:text="${nextWorkflowId}">0</span></td>
                        </tr>
                        <tr height = 20px></tr>
                        <tr >

                            <td>Description:</td>
                            <td> <input type='text' name='wfdesc' value = '' /></td>
                            <td ><input style="margin-left: 10px;" id="submitbtn" type="submit" class="btn btn-success" value="Add"></td>
                        </tr>
                    </table><br>

                <input type='hidden' name='jobId' th:value="${job.jobId}" />
                <input type='hidden' name='wfId' th:value="${nextWorkflowId}"/>
            </form>

        </div>
    </body>
</html>